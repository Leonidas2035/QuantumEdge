Покращення для QuantumEdge (конкретний чек-лист)

Поділю на 4 шари: ML, сигнали, ризик, виконання.

2.1. ML / Features

Multi-horizon моделі

Додати тренувальний код для horizon=1, 5, 30 (секунд або тік-барів).

Зберігати кілька моделей, а в DecisionEngine робити агрегування:

«вхід тільки якщо p_up(h1) > 0.55, p_up(h5) > 0.55».

Multi-timeframe features

Зробити фічі по 1s / 5s / 30s / 1m:

rolling волатильність, vwap, order-flow, imbalance, volume spikes.

У датасеті додати «режим ринку» як фічу:

simple: ATR/volatility regime, трендові індикатори типу ADX / slope.

Warmup / context

Мінімальна історія до першого сигналу (наприклад, 5–10 хвилин даних).

Якщо warmup не набраний — не торгувати, тільки накопичувати контекст.

2.2. Decision & Signal Logic

Signal filter

Не кожен «зелений» логіт → ордер.

Фільтри:

узгодженість між горизонтом 1s / 5s / 30s;

поріг впевненості (p_up > 0.55–0.6);

стоп-фільтр: якщо поспіль N збиткових трейдів за короткий період — пауза.

Regime-aware logic

Логіка:

Якщо флэт → scalp: короткий TP/SL, маленькі розміри, часті угоди.

Якщо тренд → давати позиції «жити довше», менше переворотів.

Режим визначається перед кожним сигналом і кешується.

2.3. Money & Risk Management (всередині QuantumEdge)

Position sizing на базі edge

Розмір = базовий * f(edge), де edge ≈ |p_up − 0.5|.

Мінімальний розмір > «нічого», максимальний — capped Supervisor’ом.

Стопи / тейки

Не фіксований 0.5% / 1.5R для всіх.

Залежно від волатильності й режиму:

при високій волі — ширші стопи, менший лот;

при низькій — вужчі.

Сесійні обмеження

max trades per hour,

max daily loss → сигнал Supervisor’у «я в біді, стопни мене».

2.4. Execution / Scalp-mode

Scalp-mode як окремий режим DecisionEngine

Активується через конфіг (наприклад mode: scalp).

Умови входу суворіші (наприклад, p_up > 0.6 + підтвердження по order-flow).

TP/SL малі, але контроль по спреду й глибині стакану:

не торгуєш, якщо спред > X bps,

не торгуєш, якщо об’єм у стакані менший порога.

Order-policy

Маркет лише коли:

спред ок,

об’єм достатній,

latency низька.

Інакше — ліміт із невеликим offset або відмова від угоди.